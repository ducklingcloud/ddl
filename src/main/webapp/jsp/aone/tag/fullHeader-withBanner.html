<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="/dct/jsp/aone/css/uiLib-0.9.2.css" type="text/css" />
<link rel="stylesheet" href="/dct/jsp/aone/css/lynx.css" type="text/css" />
<script type="text/javascript" src="/dct/scripts/jquery/jquery-1.5.2.min.js" ></script>
<script type="text/javascript" src="/dct/jsp/aone/js/uiLib-0.9.2-jquery.js" ></script>
<script type="text/javascript" src="/dct/jsp/aone/js/lynx-jquery.js" ></script>

<title>header-withBanner</title>

</head>
<body>
	
<div id="macroNav" class="ui-wrap wrapperFull">
	<a id="logo" title="科研在线"></a>
	<div id="macro-innerWrapper" class="wrapper1280">
		<ul id="staticNav" class="spaceNav">
			<li><a>首页</a></li>
			<li><a>个人空间</a></li>
		</ul>
		<ul id="spaceNav" class="sortableList spaceNav">
			<li><a href="#cerc">CERC</a></li>
			<li class="current"><a href="#HTML5">HTML5</a></li>
			<li><a href="#drivers">自驾俱乐部</a></li>
			<li><a href="#superlongname">超级长的团1</a></li>
			<li><a href="#superlongname">超级长的团2</a></li>
			<li><a href="#superlongname">超级长的团3</a></li>
			<li><a href="#superlongname">超级长的团4</a></li>
			<li><a href="#productCorner">产品部小空间</a></li>
			<li><a href="#littles">其它小团队</a></li>
		</ul>
		<ul id="spaceNavMore" class="spaceNav">
			<li class="moreSpace"><a><span class="icon13 icon-pulldownMore balance"></span></a></li>
			<li class="createSpace"><a>+</a></li>
		</ul>
		<ul id="userBox">
			<li><div id="globalSearch" class="searchBox"></div></li>
			<li><a>MSG</a></li>
			<li><a>高帆</a></li>
		</ul>	
	</div>
	
	<div id="spaceNavMenu" class="pulldownMenu"></div>
</div>

<div id="masthead">
	<div id="banner" class="ui-wrap wrapperFull">
		<div id="banner-photo"><img src="/dct/jsp/aone/images/banner-leaf.jpg" /></div>
		<div id="banner-innerWrapper" class="wrapper1280">
			<h1>HTML5</h1>
			<a id="teamConfig">设置</a>
			<a id="invite">邀请</a>
		</div>
	</div>
	
	<div id="navigation" class="ui-wrap wrapperFull">
		<div id="navigation-innerWrapper" class="wrapper1280">
			<ul id="stdNav" class="switch">
				<li><a>动态</a></li>
				<li><a>资料<span id="resMore" class="icon13 icon-pulldownMore"></span></a></li>
				<li><a>星标</a></li>
			</ul>
			<ul id="opNav" class="switch">
				<li><a>+页面</a></li>
				<li><a>+文件</a></li>
				<li><a>+相册</a></li>
				<li><a>+收藏</a></li>
			</ul>
			<ul id="customNav">
				<li><a>Javascript+...</a></li>
				<li><a>开发</a></li>
			</ul>
			<div id="resourceMenu" class="pulldownMenu">
				<ul>
					<li><a>常用</a></li>
					<li><a>历史记录</a></li>
					<li><a>全部资料</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
	
	<div class="ui-wrap wrapper1280">
		<div id="content" class="std stdRounded">
			<div id="tagSelector" class="content-menu">
				<p class="ui-navList-title">
					<a class="iconLink config ui-RTCorner"></a>
				未分类标签</p>
				<ul class="ui-navList">
					<li><a href="#Javascript">Javascript</a>
						<div class="addToQuery" title="">+</div>
					</li>
					<li><a href="#JS">JS</a>
						<div class="addToQuery">+</div>
					</li>
					<li><a href="#html5">html5</a>
						<div class="addToQuery">+</div>
					</li>
					<li><a href="#技术分享">技术分享</a>
						<div class="addToQuery">+</div>
					</li>
				</ul>
				<p class="ui-navList-title"><a class="iconLink config ui-RTCorner"></a>项目</p>
				<ul class="ui-navList">
					<li><a href="#A1">A1</a>
						<div class="addToQuery">+</div>
					</li>
					<li><a href="#CSP">CSP</a>
						<div class="addToQuery">+</div>
					</li>
					<li><a href="#Duckling">Duckling</a>
						<div class="addToQuery">+</div>
					</li>
				</ul>
				<p class="ui-navList-title"><a class="iconLink config ui-RTCorner"></a>部门</p>
				<ul class="ui-navList">
					<li><a href="#综合部">综合部</a>
						<div class="addToQuery">+</div>
					</li>
					<li><a href="#客户部">客户部</a>
						<div class="addToQuery">+</div>
					</li>
					<li><a href="#产品部">产品部</a>
						<div class="addToQuery">+</div>
					</li>
					<li><a href="#项目部">项目部</a>
						<div class="addToQuery">+</div>
					</li>
				</ul>
				
				<p class="ui-navList-title">修改时间</p>
				<div class="toolHolder light">
					<ul id="timeSelector" class="filter">
						<li><a>今天</a></li>
						<li><a>昨天</a></li>
						<li><a>本周</a></li>
						<li><a>上周</a></li>
						<li><a>本月</a></li>
						<li><a>上月</a></li>
					</ul>
					<div class="ui-clear"></div>
				</div>
				<p class="ui-navList-title">资料类型</p>
				<div class="toolHolder light">
					<ul id="typeSelector" class="filter">
						<li><a>页面</a></li>
						<li><a>doc</a></li>
						<li><a>ppt</a></li>
						<li><a>xls</a></li>
						<li><a>pdf</a></li>
						<li><a>其他文件</a></li>
						<li><a>图片</a></li>
					</ul>
					<div class="ui-clear"></div>
				</div>
			</div>
			<div class="content-menu-body" style="height:1200px">
			<div class="innerWrapper">
				<div class="toolHolder">
					<ul class="switch ui-RTCorner">
						<li class="chosen"><a>列表</a></li>
						<li><a>缩略图</a></li>
					</ul>
					<h2 id="tagQuery">
						<span class="tQ-tag">Javascript</span>
						+ <span class="tQ-tag">A1</span>
						+ <span class="tQ-time">本周</span>
						+ <span class="tQ-type page">页面</span>
						+ <span class="tQ-type webCapture">网页收藏</span>
						+ <span class="tQ-tag">超级长的tag要多长有多长</span>
						+ <span class="tQ-type webCapture">其他</span>
					</h2>
					
				</div>
				<div class="toolHolder light">
					<ul class="filter" style="float:left;">
						<li><a>全部</a></li>
						<li><a></a></li>
					</ul>
					<div class="searchBox" style="width:300px; float:right;"></div>
				</div> 
				
				<table id="resourceList" class="dataTable merge">
				<thead>
				<tr>
					<th class="dt3char dtCenter">
						<input type="checkbox" name="checkAll" /><label name="select" class="icon13 icon-pulldownMore"></label>
						<div id="selectionMenu" class="pulldownMenu">
							<ul>
								<li>全选</li>
								<li>无</li>
								<li>已加星标</li>
								<li>未加星标</li>
							</ul>
						</div>
					</th>
					<th class="dtShort">星标</th>
					<th style="width: 35em;">资源</th>
					<th></th>
				</tr>
				</thead>
				<tbody>
				<tr id="resID001">
					<td class="dtCenter">
						<input type="checkbox" />
					</td>
					<td class="dtCenter">
						<div id="starID1" class="resStar not"></div>
					</td>
					<td>
						<div class="resDetail">详情</div>
						<h4><a href="#somepage">敏捷体验设计师应该具备的12项技能 - Web前端 - ITeye资讯</a></h4>
						<ul class="tagList">
							<li>UX</li>
							<li>agile</li>
							<li>前端</li>
							<li class="newTag">+</li>
						</ul>
					</td>
					<td>
						<div class="dtAdpHide">
							<p><span class="resVersion">版本：12</span></p>
							<p><span>张三 修改于</span>
							<span>2012年4月12日</span></p>
						</div>
					</td>
				</tr>
				<tr id="resID002">
					<td class="dtCenter">
						<input type="checkbox" />
					</td>
					<td class="dtCenter">
						<div id="starID1" class="resStar not"></div>
					</td>
					<td>
						<div class="resDetail">详情</div>
						<h4><a href="#somepage">另一个长得不太一样的title</a></h4>
						<ul class="tagList">
							<li>UX</li>
							<li>agile</li>
							<li>前端</li>
							<li class="newTag">+</li>
						</ul>
					</td>
					<td>
						<div class="dtAdpHide">
							<p><span class="resVersion">版本：12</span></p>
							<p><span>张三 修改于</span>
							<span>2012年4月12日</span></p>
						</div>
					</td>
				</tr>
				
				</tbody>
				
				</table>
			
				<div id="resourceAction" class="floatToolBox">
					<ul id="resAction">
						<li id="resAction-list"><a>选中<span class="count">0</span>个资料
							<span class="icon13 icon-pullupMore"></span></a>
						</li>
						<li id="resAction-tag"><a>添加标签</a></li>
						<li id="resAction-bundle"><a>组合</a></li>
						<li id="resAction-export"><a>导出<span id="resAction-export-type" class="icon13 icon-pullupMore"></span></a></li>
						<li id="resAction-share"><a>分享</a></li>
						<li id="resAction-open"><a>打开</a></li>
					</ul>
					
					<div id="resAction-listMenu">
						<ul></ul>
						<a id="clearSelection" >清除选择</a>
						<a id="deleteSelected" class="icon13 icon-trash" title="删除选中的资料"></a>
					</div>
					<div id="resAction-tagMenu"></div>
					<div id="resAction-bundelMenu"></div>
					<div id="resAction-exportMenu" class="pulldownMenu">
						<ul>
							<li><a>.zip</a></li>
							<li><a>ePub</a></li>
						</ul>
					</div>
					
				</div>
				
<div id="addSingleTagDialog" class="lynxDialog" style="display:block">
	<div class="toolHolder light">
		<h3>添加标签</h3>
	</div>
	<div class="inner">
		<div class="existTags">
			<p>已有标签：</p>
			<ul class="tagList"><li>123123</li><li>sdf</li></ul>
		</div>
	
		<p><label>输入标签（用回车分隔）：<br/>
			<input type="text" name="typeTag" /></label>
		</p>
		<label id="a"></label>
		<p class="ui-clear">或选择常用标签：</p>
		<div class="tagGroupHorizon">
			<a class="tG-ctrl-prev" title="前一组"><span class="iconTG icon-left" ></span></a>
			<a class="tG-ctrl-next" title="后一组"><span class="iconTG icon-right"></span></a>
			
			<div class="tG-scroll">
			
				<div class="tG-holder">
					<p class="tG-groupName">项目1</p>
					<ul class="tG-list">
						<li><a>sdf</a></li>
						<li><a>sdff</a></li>
					</ul>
				</div>
				<div class="tG-holder">
					<p class="tG-groupName">项目2</p>
					<ul class="tG-list">
						<li><a tag_id="017">A1</a></li>
						<li><a tag_id="018">cerc</a></li>
						<li><a tag_id="019">duckling 12133</a></li>
						<li><a tag_id="012">E1</a></li>
						<li><a tag_id="012">CSP</a></li>
					</ul>
				</div>
				<div class="tG-holder">
					<p class="tG-groupName">项目3</p>
					<ul class="tG-list">
						<li><a tag_id="012">A1</a></li>
						<li><a tag_id="012">cerc</a></li>
						<li><a tag_id="012">duckling</a></li>
						<li><a tag_id="012">E1</a></li>
						<li><a tag_id="012">CSP</a></li>
					</ul>
				</div>
				<div class="tG-holder">
					<p class="tG-groupName">项目4</p>
					<ul class="tG-list">
						<li><a tag_id="012">A1</a></li>
						<li><a tag_id="012">cerc</a></li>
						<li><a tag_id="012">duckling</a></li>
						<li><a tag_id="012">E1</a></li>
						<li><a tag_id="012">CSP</a></li>
					</ul>
				</div>
				<div class="tG-holder">
					<p class="tG-groupName">项目5</p>
					<ul class="tG-list">
						<li><a tag_id="012">A1</a></li>
						<li><a tag_id="012">cerc</a></li>
						<li><a tag_id="012">duckling</a></li>
						<li><a tag_id="012">E1</a></li>
						<li><a tag_id="012">CSP</a></li>
					</ul>
				</div>
				<div class="tG-holder">
					<p class="tG-groupName">项目6</p>
					<ul class="tG-list">
						<li><a tag_id="012">A1</a></li>
						<li><a tag_id="012">cerc</a></li>
						<li><a tag_id="012">duckling</a></li>
						<li><a tag_id="012">E1</a></li>
						<li><a tag_id="012">CSP</a></li>
					</ul>
				</div>
				<div class="tG-holder">
					<p class="tG-groupName">项目7</p>
					<ul class="tG-list">
						<li><a tag_id="012">A1</a></li>
						<li><a tag_id="012">cerc</a></li>
						<li><a tag_id="012">duckling</a></li>
						<li><a tag_id="012">E1</a></li>
						<li><a tag_id="012">CSP</a></li>
					</ul>
				</div>
				
				<div class="ui-clear"></div>
			</div>
		</div>
	</div>
	<div class="control largeButtonHolder">
		<input type="button" class="saveThis" value="保存">
		<input type="button" class="closeThis" value="取消">
	</div>
</div>
				
			</div>	
			</div>
			
			
			
			<div class="ui-clear"></div>
		</div>
	</div>

</body>


<script type="text/javascript">
$(document).ready(function(){
	
	var addSingleTagDialog = new lynxDialog({
		'instanceName': 'addSnglTag',
		'close': $('#addSingleTagDialog .closeThis')
	});
	
	function tagGroupHorizon (options) {
		var avatar = this;
		
		var $ctrl = {
				left: $('.tG-ctrl-prev'),
				right: $('.tG-ctrl-next')
		}
		var $tar = $('.tG-scroll');
		
		var _step = $('.tagGroupHorizon').width()/3;
		
		function _setWidth() {
			var w = 0;
			$('.tG-scroll .tG-holder').each(function(){
				w = w + $(this).outerWidth() + 2 * parseInt($(this).css('margin-left'));
			});
			
			$tar.css('width', w);
		}
		_setWidth();
		
		var _limit = {
				min: $('.tagGroupHorizon').width() - $tar.width() - _step/3,
				max: 0
		}
		
		$ctrl.left.bind('click', function(){
			var t = parseInt($tar.css('left')) + _step;
			t = (t> _limit.max) ? _limit.max : t;
			$tar.animate({ left: t }, 700);
		});
		$ctrl.right.bind('click', function(){
			var t = parseInt($tar.css('left')) - _step;
			t = (t< _limit.min) ? _limit.min : t;
			$tar.animate({ left: t }, 700);
		});
		
		$('.tG-holder li a').click(function(){
			$(this).parent().toggleClass('chosen');
		});
		
	};	
	
	tagGroupHorizon();
	
	var KEY = {
		    BACKSPACE: 8,
		    TAB: 9,
		    ENTER: 13,
		    ESCAPE: 27,
		    SPACE: 32,
		    PAGE_UP: 33,
		    PAGE_DOWN: 34,
		    END: 35,
		    HOME: 36,
		    LEFT: 37,
		    UP: 38,
		    RIGHT: 39,
		    DOWN: 40,
		    NUMPAD_ENTER: 108,
		    COMMA: 188,
		    COMMA_CHN: 188 //Chinese input mode will feed keyCode 229 for every key press. need to think later
		};
	var oldIE = $.browser.msie && parseInt($.browser.version, 10) < 9;
	var ieKey = true;
	var kval = { input:'', keydown:'', keyup:'', lastKeyDown:'', lastKey:'' };
	var attempt = false;
	
	$('input[name="typeTag"]')
		.bind('keydown', function(key){
			if (key.keyCode==KEY.ENTER) {
				if (kval.lastKeyDown == 229 && attempt) {
					add($(this), 'keydown 229');
					key.preventDefault();
				}
				else if (kval.lastKeyDown!=229) {
					add($(this), 'keydown x');
					key.preventDefault();
				}
			}
			
			kval.keydown = $(this).val();
			kval.lastKeyDown = key.keyCode;
			
			toke($(this), 'kD', key.keyCode);
			
		})
		.bind('keyup', function(key){
			if (key.keyCode==KEY.ENTER && $(this).val() == kval.keyup && kval.lastKeyDown == 229) {
				attempt = true;
			}
			else {
				attempt = false;
			}
			
			kval.prevKeyup = kval.keyup;
			kval.keyup = $(this).val();
			kval.lastKey = key.keyCode;
			
			label('lastkey: ' + kval.lastKey + '///// attr: ' + attempt);
			toke($(this), 'kU', key.keyCode);
		})
		.bind('change', function(e){
			add($(this), 'changeD');
			toke($(this), 'change', kval.lastKey);
		});
	
	function label(x) {
		$('label#a').text(x);
	}
	function toke(obj, x, y) {
		//$('#addSingleTagDialog .tagList').append('<li>' + x + '-' + obj.val() + '-' + y + '</li>');
	}
	
	function add(obj, x) {
		x = x || '';
		if (obj.val()!='') {
			//$('#addSingleTagDialog .tagList').append('<li>' + x +'::' + obj.val() + '</li>');
			$('#addSingleTagDialog .tagList').append('<li>' + obj.val() + '</li>');
		}
		obj.val('');
		for (v in kval) {
			i = '';
		}
		attempt = false;
		ieKey = true;
	}
});
</script>

<style>
.existTags { float:right; width:60%; }
.existTags p { margin-top:0; }

.tagGroupHorizon { width:100%; position: relative; overflow:hidden; }
.tagGroupHorizon a.tG-ctrl-prev, .tagGroupHorizon a.tG-ctrl-next {
	position:absolute; top:0; bottom:0;
	width: 30px;
	color:#fff; font-weight:bold;
	background-color:rgba(0,0,0,0.5);
	z-index:70;
}
.tagGroupHorizon a.tG-ctrl-prev { left:0; content: '&lt;'; }
.tagGroupHorizon a.tG-ctrl-next { right:0; content: '&gt;'; }

.tagGroupHorizon .tG-scroll { 
	position:relative; top:0; left:0;
	width:1280px;
	padding:0 30px;
	overflow-y: auto;
	overflow-x: visible;
	z-index:65;
}
.tagGroupHorizon .tG-scroll .tG-holder {
	float:left; margin:15px 30px;
}

.tagGroupHorizon .tG-holder ul.tG-list { 
	list-style:none; margin:0; padding:0;
}

.tagList li.new { background-color:#ffc; }

.tG-list li.chosen { background-color:#ccf; }


</style>

</html>
